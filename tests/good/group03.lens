var cpt = 0;

match {
    "(?<n>\d+)# n:int"
}

stream when (entry) {
    if (entry.n % 2 === 0) {
        entry.even = "true";
    }
    print('Before group: e =', JSON.stringify(entry));
}

group upon (entry.even) {
    "true"
}

stream when (entry) {
    print('After group: e =', JSON.stringify(entry));
    cpt++;
}

{
    print("cpt =", cpt)
}
